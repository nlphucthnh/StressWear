<!DOCTYPE html>
<html lang="en">
<html xmlns:th="https://www.thymeleaf.org">

<head>
    <!-- icon web  -->
    <link rel="website icon" type="png" href="img/logo--noname.png">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Bootstrap CSS: -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Bootstrap JavaScript: -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
    <!-- link icon -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Sharp:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <!-- font  -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=EB+Garamond&display=swap" rel="stylesheet">

    <!-- Angularjs -->
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.18/dist/sweetalert2.min.css">

    <link rel="stylesheet" href="/styles/root.css">
    <link rel="stylesheet" href="/styles/pay.css">
    <link rel="stylesheet" href="/styles/navbar.css">
    <link rel="stylesheet" href="/styles/about.css">
    <link rel="stylesheet" href="/styles/footer.css">
    <title>Phương thức thanh toán</title>
</head>


<body ng-app="shopping-cart-app" ng-controller="shopping-cart-ctrl">
    <nav th:replace="~{/layout/user-nav.html :: nav}"></nav>
    <div class="container mt-5 py-5">

        <!-- <form action="/User/pay" method="post"> -->
        <div class="row">
            <div class="title-pay-main">
                <h1>Phương thức thanh toán</h1>
                <p class="duongdancon"><a href="cart">Giỏ hàng </a> / <a href="adreess.html">Thông tin giao hàng</a>
                    
                    <a href="pay.html">Phương thức thanh toán</a>
                </p>
            </div>

            <div class="col-9">
                <div class="form-control" hidden id="taiKhoanMuaHang">[[${#request.remoteUser}]]</div>


             
                <!-- <div class="pay-matercard-main">
                        <div class="header-matercard d-flex justify-content-between px-3" for="pay">
                            <label for="pay-matercard">
                                <div class="auther-item d-flex align-items-center ">
                                    <img src="/img/mastercard-logo.png" alt="Avatar" width="32px" height="32px"
                                        class="avatar rounded-circle mx-3">
                                    <span class="navbar-text text-start me-2">
                                        <span class="text-dark">
                                            Thanh toán bằng thẻ ngân hàng</span>
                                        <br> <span class="text-black-50">Tiện lợi: Thanh toán bằng thẻ ngân hàng rất đơn
                                            giản và nhanh
                                            chóng.</span>
                                    </span>

                                </div>
                            </label>
                            <input name="pay" type="radio" id="pay-matercard">
                        </div>
                        <div class="input-matercard ">
                            <div class="form-group">
                                <label for="pay-matercard" class="form-label">Ngân hàng</label>
                                <select name="" id="" class="form-control">
                                    <option value="">Ngân hàng Vietinbank</option>
                                    <option value="">Ngân hàng Sacombank</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label for="pay-matercard" class="form-label">Số thẻ</label>
                                <input type="text" name="" id="" class="form-control" placeholder="4987 6768 6868 6868">
                            </div>
                            <div class="row form-group">
                                <div class="col-8">
                                    <label for="pay-matercard" class="form-label">Tên in thẻ</label>
                                    <input type="text" name="" id="" class="form-control"
                                        placeholder="NGUYEN LE PHUC THINH">
                                </div>
                                <div class="col-4 pb-3">
                                    <label for="pay-matercard" class="form-label">Ngày phát hành</label>
                                    <input placeholder="13/02/2019" class="form-control" type="text"
                                        onfocus="(this.type='date')" id="date" />
                                </div>
                            </div>
                        </div>
                    </div> -->
                <div class="header-matercard d-flex justify-content-between px-3 my-2" for="pay"
                    th:each="tt : ${phuongthucthanhtoan}">
                    <label for="pay-$">
                        <div class="auther-item d-flex align-items-center ">
                            <img src="/img/thanhtoan.png" alt="Avatar" width="32px" height="32px"
                                class="avatar rounded-circle mx-3">
                            <span class="navbar-text text-start me-2">
                                <span class="text-dark">Thanh toán sau khi nhận hàng
                                </span>
                                <br> <span class="text-black-50" >Thanh toán sau khi giao dịch thành công

                                </span>
                            </span>

                        </div>
                    </label>
                    <input name="pay" type="radio" id="pay-$" ng-checked="true" >

                </div>

                <div class="pay-bill  col-3 my-3">
                    <div id="error-message" class="error-message">
                        <span>Thanh toán thất bại</span>
                      </div>
                      <div id="success-message" class="success-message">
                        <span>Thanh toán thành công</span>
                      </div>
                    <button class="btn btn-success" ng-click="order.purchase()">Thanh toán</button>
                    <!-- btn-pay -->
                </div>
            </div>

            <div class="col-3" th:fragment="shopping-cart">

                <div class="bill">
                    <div class="row mb-3">
                        <div class="col-6">
                            <label for="subtotal" class="form-label bill-text">Tổng phụ</label>
                        </div>
                        <div class="col-6">
                            <label for="discount" class="form-label bill-number ">{{cart.amount | number}}</label>
                        </div>
                    </div>

                    <div class="row mb-3">
                        <div class="col-6">
                            <label for="subtotal" class="form-label bill-text">Tổng số lượng</label>
                        </div>
                        <div class="col-6">
                            <label for="discount" class="form-label bill-number ">{{cart.count}}</label>
                        </div>
                    </div>


                    <!-- <div class="row mb-3">
                    <div class="col-6">
                      <label for="subtotal" class="form-label bill-text">Phụ thu</label>
                    </div>
                    <div class="col-6">
                      <label for="discount" class="form-label bill-number ">Không có</label>
                    </div>
                  </div> -->

                    <div class="row mb-3">
                        <div class="col-6">
                            <label for="subtotal" class="form-label bill-text">Phí vận chuyển</label>
                        </div>
                        <div class="col-6">
                            <label for="discount" class="form-label bill-number ">Miễn phí</label>
                        </div>
                    </div>
                    <hr class="my-4">
                    <div class="row mb-3">
                        <div class="col-6">
                            <label for="subtotal" class="form-label bill-text">Tổng cộng:</label>
                        </div>
                        <div class="col-6">
                            <label for="discount" class="form-label bill-number ">{{cart.amount | number}}</label>
                        </div>
                    </div>
                    <!-- <div class="row mb-3">
                            <div class="pay-bill">
                                <a th:href="@{/User/pay}">
                                    <button class="btn-pay" ng-click="order()">Thanh toán</button></a>
                            </div>
                        </div> -->

                </div>
            </div>


        </div>
        <!-- </form> -->
    </div>


    <nav th:replace="~{/layout/footer.html :: footer}"></nav>

</body>
<script src="js/cart.js"></script>
<script src="/javascripts/shopping-cart-app.js"></script>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<style>
    #error-message {
      display: flex;
      justify-content: center;
      align-items: center;
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background-color: #ff0000;
      color: #ffffff;
      padding: 10px 20px;
      border-radius: 5px;
      z-index: 9999;
      opacity: 0;
      transition: opacity 0.3s ease-in-out;
    }
    
    #error-message.visible {
      opacity: 1;
    }
    #success-message {
      display: flex;
      justify-content: center;
      align-items: center;
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background-color: #197511;
      color: #ffffff;
      padding: 10px 20px;
      border-radius: 5px;
      z-index: 9999;
      opacity: 0;
      transition: opacity 0.3s ease-in-out;
    }
    
    #success-message.visible {
      opacity: 1;
    }
    
    

    </style>
</html>